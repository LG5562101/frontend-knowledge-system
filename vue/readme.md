## vue2响应式
Observe类中会判断是是对象还是数组

如果是对象则会调用walk方法，将每一个属性通过defineReactive方法将其变为可观测的响应式,在该方法中会实例化Dep类，在getter中收集依赖，在set中触发依赖。该依赖其实是一个watcher实例，每次在实例化一个watcher的时候都会将自身赋值给window.target，然后再触发数据，收集依赖，最后将window.target置为undefined，释放，至此完成了对象的响应式。

如果是数组.首先构造拦截器，再拦截器中重写可以改变数组的7个方法，push,pop,unshift,shift,splice,sort,reverse。然后在拦截器中触发依赖，这里需要注意的是我们需要监听每一项数组数据，同时针对，push,unshift,和splice这三个可能会添加新数据的方法还需要对其参数做监听。至于收集依赖则只需要在getter收集就好了。

通过上述原理，可以看出vue在删除对象属性，以及直接对数组中的某一项赋值是监听不到的，所以其提供了对应的方法用来将数据变为响应式

## 虚拟Dom
通过一个js对象去描述Dom节点，一般来说有tag attr text children。引入虚拟dom的原因是因为真实dom设计的十分复杂，如果频繁去操作dom就很消耗性能，所以我们用js对象来表示DOM,当需要更新时，通过diff算法对比新旧对象，计算出需要更新的Dom更新，而对不需要更新的，就不关心，可以提升性能
vue中对不同类型的Dom做了相关分类,比如注释节点，文本节点，dom节点，克隆节点等等。

## diff算法
有了虚拟dom之后我们只需要将新旧两次的虚拟dom做对比，然后更新Dom即可，这个对比用到的算法就是diff算法。
这个diff的过程称为patch。思想就是以新的vnode为基准，如果旧的有，新的没有就删除，旧的没有，新的有就增加，新旧都有就更新。
所有整个patch过程其实就三个操作，创建节点 删除节点 更新节点
创建节点只有三种节点，首先判断是否时元素节点，如果是则直接创建，并插入dom,不是就在判断是否为注释节点，如果是就创建，不是就创建一个文本节点，插入Dom
删除节点直接调用父元素的removechild方法移除节点


